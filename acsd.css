/**
 * ACSD CSS Framework
 * A Nordic maritime-inspired classless CSS framework
 * Simple, readable, functional — like a well-built fishing boat
 */

/* ============================================
   LAYER STRUCTURE
   ============================================ */
   @layer tokens, base, components, utilities, overrides;

   /* ============================================
      TOKENS LAYER
      Design system foundation
      ============================================ */
   @layer tokens {
     :root {
       /* Typography Scale */
       --font-family-sans: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", sans-serif;
       --font-family-mono: "SF Mono", "Monaco", "Cascadia Code", "Courier New", monospace;
       
       --font-size-base: 1rem;
       --font-size-sm: 0.875rem;
       --font-size-xs: 0.75rem;
       --font-size-lg: 1.125rem;
       
       --font-size-h1: 2.25rem;
       --font-size-h2: 1.875rem;
       --font-size-h3: 1.5rem;
       --font-size-h4: 1.25rem;
       --font-size-h5: 1.125rem;
       --font-size-h6: 1rem;
       
       --font-weight-normal: 400;
       --font-weight-medium: 500;
       --font-weight-semibold: 600;
       --font-weight-bold: 700;
       
       --line-height-tight: 1.25;
       --line-height-normal: 1.5;
       --line-height-relaxed: 1.7;
       
       /* Spacing Scale (based on 0.25rem = 4px) */
       --space-xs: 0.25rem;
       --space-sm: 0.5rem;
       --space-md: 1rem;
       --space-lg: 1.5rem;
       --space-xl: 2rem;
       --space-2xl: 3rem;
       --space-3xl: 4rem;
       
       /* Nordic Maritime Color Palette */
       /* Using OKLCH for perceptually uniform colors */
       --color-sand: oklch(0.97 0.005 85);           /* Warm off-white, like weathered wood */
       --color-anchor: oklch(0.25 0.02 250);         /* Deep charcoal text */
       --color-sea-deep: oklch(0.45 0.08 240);       /* Deep ocean blue */
       --color-sea-mist: oklch(0.70 0.04 240);       /* Soft blue-gray */
       --color-sea-foam: oklch(0.85 0.03 220);       /* Light cool gray */
       --color-driftwood: oklch(0.80 0.01 250);      /* Medium gray for borders */
       --color-rust: oklch(0.60 0.12 35);            /* Warm rust accent */
       --color-rust-light: oklch(0.75 0.08 35);      /* Lighter rust */
       --color-rust-dark: oklch(0.45 0.15 35);       /* Darker rust */
       
       /* Semantic Colors */
       --color-bg: var(--color-sand);
       --color-fg: var(--color-anchor);
       --color-primary: var(--color-sea-deep);
       --color-accent: var(--color-rust);
       --color-border: var(--color-driftwood);
       --color-border-strong: var(--color-sea-mist);
       --color-subtle: var(--color-sea-foam);
       
       /* Interactive States */
       --color-link: var(--color-sea-deep);
       --color-link-hover: var(--color-rust);
       --color-link-visited: oklch(0.50 0.08 280);
       --color-focus: var(--color-rust);
       
       /* Border & Radius */
       --border-width: 1px;
       --border-width-thick: 2px;
       --radius-sm: 0.25rem;
       --radius-md: 0.375rem;
       --radius-lg: 0.5rem;
       
       /* Shadows */
       --shadow-sm: 0 1px 2px 0 oklch(0 0 0 / 0.05);
       --shadow-md: 0 4px 6px -1px oklch(0 0 0 / 0.1);
       --shadow-lg: 0 10px 15px -3px oklch(0 0 0 / 0.1);
       
       /* Transitions */
       --transition-fast: 150ms ease;
       --transition-base: 200ms ease;
       --transition-slow: 300ms ease;
       
       /* Layout */
       --max-width-prose: 65ch;
       --max-width-container: 72rem;
     }
     
     /* Dark Theme - Night at Sea */
     .theme-dark {
       --color-sand: oklch(0.20 0.02 250);           /* Deep ocean night */
       --color-anchor: oklch(0.90 0.02 250);         /* Light text */
       --color-sea-deep: oklch(0.65 0.12 240);       /* Lighter blue for visibility */
       --color-sea-mist: oklch(0.60 0.04 240);       /* Muted blue-gray */
       --color-sea-foam: oklch(0.25 0.03 240);       /* Darker cool gray */
       --color-driftwood: oklch(0.35 0.02 250);      /* Dark borders */
       --color-rust: oklch(0.70 0.14 35);            /* Warm rust accent (brighter) */
       --color-rust-light: oklch(0.50 0.10 35);      /* Darker rust for dark mode */
       --color-rust-dark: oklch(0.80 0.15 35);       /* Lighter rust for active states */
       
       /* Semantic colors updated for dark mode */
       --color-bg: var(--color-sand);
       --color-fg: var(--color-anchor);
       --color-border: var(--color-driftwood);
       --color-border-strong: var(--color-sea-mist);
       --color-subtle: var(--color-sea-foam);
       
       /* Interactive states for dark mode */
       --color-link: var(--color-sea-deep);
       --color-link-hover: var(--color-rust);
       --color-link-visited: oklch(0.70 0.10 280);
       --color-focus: var(--color-rust);
     }
   }
   
   /* ============================================
      BASE LAYER
      Classless semantic HTML styling
      ============================================ */
   @layer base {
     /* Document & Layout */
     *,
     *::before,
     *::after {
       box-sizing: border-box;
     }
     
     html {
       -webkit-text-size-adjust: 100%;
       -moz-tab-size: 4;
       tab-size: 4;
     }
     
     body {
       margin: 0;
       font-family: var(--font-family-sans);
       font-size: var(--font-size-base);
       line-height: var(--line-height-relaxed);
       color: var(--color-fg);
       background-color: var(--color-bg);
       -webkit-font-smoothing: antialiased;
       -moz-osx-font-smoothing: grayscale;
     }
     
     /* Typography */
     h1, h2, h3, h4, h5, h6 {
       margin: var(--space-xl) 0 var(--space-md);
       font-weight: var(--font-weight-semibold);
       line-height: var(--line-height-tight);
       color: var(--color-anchor);
     }
     
     h1 {
       font-size: var(--font-size-h1);
       margin-top: 0;
     }
     
     h2 {
       font-size: var(--font-size-h2);
       border-bottom: var(--border-width) solid var(--color-border);
       padding-bottom: var(--space-sm);
     }
     
     h3 {
       font-size: var(--font-size-h3);
     }
     
     h4 {
       font-size: var(--font-size-h4);
     }
     
     h5 {
       font-size: var(--font-size-h5);
     }
     
     h6 {
       font-size: var(--font-size-h6);
       color: var(--color-sea-mist);
       text-transform: uppercase;
       letter-spacing: 0.05em;
     }
     
     p {
       margin: var(--space-md) 0;
       max-width: var(--max-width-prose);
     }
     
     /* Text Formatting */
     strong, b {
       font-weight: var(--font-weight-bold);
       color: var(--color-anchor);
     }
     
     em, i {
       font-style: italic;
     }
     
     small {
       font-size: var(--font-size-sm);
       color: var(--color-sea-mist);
     }
     
     mark {
       background-color: var(--color-rust-light);
       color: var(--color-anchor);
       padding: var(--space-xs) var(--space-sm);
       border-radius: var(--radius-sm);
     }
     
     del {
       text-decoration: line-through;
       opacity: 0.7;
     }
     
     ins {
       text-decoration: none;
       border-bottom: var(--border-width-thick) solid var(--color-accent);
     }
     
     abbr[title] {
       text-decoration: underline dotted;
       cursor: help;
     }
     
     /* Blockquotes */
     blockquote {
       margin: var(--space-xl) 0;
       padding: var(--space-lg) var(--space-xl);
       border-left: 4px solid var(--color-sea-deep);
       background-color: var(--color-subtle);
       border-radius: 0 var(--radius-md) var(--radius-md) 0;
     }
     
     blockquote p {
       margin: 0 0 var(--space-md);
       font-size: var(--font-size-lg);
       font-style: italic;
     }
     
     blockquote p:last-child {
       margin-bottom: 0;
     }
     
     blockquote footer {
       margin-top: var(--space-md);
       font-size: var(--font-size-sm);
       color: var(--color-sea-mist);
     }
     
     q {
       quotes: """ """ "'" "'";
       font-style: italic;
     }
     
     /* Code */
     code, kbd, samp {
       font-family: var(--font-family-mono);
       font-size: 0.9em;
     }
     
     code {
       background-color: var(--color-subtle);
       color: var(--color-sea-deep);
       padding: 0.125em 0.375em;
       border-radius: var(--radius-sm);
     }
     
     pre {
       margin: var(--space-lg) 0;
       padding: var(--space-lg);
       background-color: var(--color-anchor);
       color: var(--color-sand);
       border-radius: var(--radius-md);
       overflow-x: auto;
       line-height: var(--line-height-normal);
     }
     
     pre code {
       background-color: transparent;
       color: inherit;
       padding: 0;
       border-radius: 0;
     }
     
     kbd {
       background-color: var(--color-anchor);
       color: var(--color-sand);
       padding: 0.125em 0.5em;
       border-radius: var(--radius-sm);
       border: var(--border-width) solid var(--color-sea-mist);
       box-shadow: 0 2px 0 var(--color-sea-mist);
       font-size: var(--font-size-sm);
     }
     
     samp {
       background-color: var(--color-subtle);
       padding: 0.125em 0.375em;
       border-radius: var(--radius-sm);
     }
     
     /* Links */
     a {
       color: var(--color-link);
       text-decoration: underline;
       text-decoration-thickness: 1px;
       text-underline-offset: 0.2em;
       transition: color var(--transition-fast);
     }
     
     a:hover {
       color: var(--color-link-hover);
     }
     
     a:active {
       color: var(--color-rust-dark);
     }
     
     a:visited {
       color: var(--color-link-visited);
     }
     
     a:focus-visible {
       outline: var(--border-width-thick) solid var(--color-focus);
       outline-offset: 0.25em;
       border-radius: var(--radius-sm);
     }
     
     /* Lists */
     ul, ol {
       margin: var(--space-md) 0;
       padding-left: var(--space-xl);
     }
     
     li {
       margin: var(--space-sm) 0;
     }
     
     ul ul, ol ol, ul ol, ol ul {
       margin: var(--space-sm) 0;
     }
     
     dl {
       margin: var(--space-lg) 0;
     }
     
     dt {
       font-weight: var(--font-weight-semibold);
       color: var(--color-anchor);
       margin-top: var(--space-md);
     }
     
     dd {
       margin-left: var(--space-xl);
       margin-bottom: var(--space-md);
       color: var(--color-sea-mist);
     }
     
     /* Horizontal Rule */
     hr {
       margin: var(--space-2xl) 0;
       border: 0;
       border-top: var(--border-width) solid var(--color-border);
     }
     
     /* Media */
     img {
       max-width: 100%;
       height: auto;
       display: block;
     }
     
     figure {
       margin: var(--space-xl) 0;
     }
     
     figcaption {
       margin-top: var(--space-md);
       font-size: var(--font-size-sm);
       color: var(--color-sea-mist);
       font-style: italic;
     }
     
     /* Tables */
     table {
       width: 100%;
       margin: var(--space-xl) 0;
       border-collapse: collapse;
       border: var(--border-width) solid var(--color-border);
       border-radius: var(--radius-md);
       overflow: hidden;
     }
     
     caption {
       margin-bottom: var(--space-md);
       font-weight: var(--font-weight-semibold);
       color: var(--color-anchor);
       text-align: left;
     }
     
     thead {
       background-color: var(--color-sea-deep);
       color: var(--color-sand);
     }
     
     th {
       padding: var(--space-md) var(--space-lg);
       text-align: left;
       font-weight: var(--font-weight-semibold);
     }
     
     tbody tr {
       border-bottom: var(--border-width) solid var(--color-border);
     }
     
     tbody tr:nth-child(even) {
       background-color: var(--color-subtle);
     }
     
     tbody tr:hover {
       background-color: var(--color-sea-foam);
     }
     
     td {
       padding: var(--space-md) var(--space-lg);
     }
     
     tfoot {
       background-color: var(--color-subtle);
       font-size: var(--font-size-sm);
       font-style: italic;
     }
     
     tfoot td {
       padding: var(--space-md) var(--space-lg);
     }
     
     /* Forms */
     form {
       margin: var(--space-xl) 0;
     }
     
     fieldset {
       margin: var(--space-lg) 0;
       padding: var(--space-lg);
       border: var(--border-width) solid var(--color-border);
       border-radius: var(--radius-md);
       background-color: var(--color-subtle);
     }
     
     fieldset fieldset {
       background-color: var(--color-sand);
       margin-top: var(--space-md);
     }
     
     legend {
       padding: 0 var(--space-sm);
       font-weight: var(--font-weight-semibold);
       color: var(--color-sea-deep);
     }
     
     label {
       display: block;
       margin-top: var(--space-md);
       margin-bottom: var(--space-sm);
       font-weight: var(--font-weight-medium);
       color: var(--color-anchor);
     }
     
     /* Checkbox and radio labels are inline */
     input[type="checkbox"] + label,
     input[type="radio"] + label,
     label:has(input[type="checkbox"]),
     label:has(input[type="radio"]) {
       display: inline-flex;
       align-items: center;
       gap: var(--space-sm);
       margin-top: var(--space-sm);
     }
     
     input[type="text"],
     input[type="email"],
     input[type="password"],
     input[type="search"],
     input[type="url"],
     input[type="number"],
     input[type="date"],
     select,
     textarea {
       width: 100%;
       padding: var(--space-sm) var(--space-md);
       font-family: inherit;
       font-size: var(--font-size-base);
       line-height: var(--line-height-normal);
       color: var(--color-fg);
       background-color: var(--color-sand);
       border: var(--border-width) solid var(--color-border);
       border-radius: var(--radius-md);
       transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
     }
     
     input[type="text"]:focus,
     input[type="email"]:focus,
     input[type="password"]:focus,
     input[type="search"]:focus,
     input[type="url"]:focus,
     input[type="number"]:focus,
     input[type="date"]:focus,
     select:focus,
     textarea:focus {
       outline: none;
       border-color: var(--color-sea-deep);
       box-shadow: 0 0 0 3px oklch(0.45 0.08 240 / 0.1);
     }
     
     input[type="text"]::placeholder,
     input[type="email"]::placeholder,
     input[type="password"]::placeholder,
     input[type="search"]::placeholder,
     input[type="url"]::placeholder,
     textarea::placeholder {
       color: var(--color-sea-mist);
       opacity: 0.7;
     }
     
     textarea {
       resize: vertical;
       min-height: 8em;
     }
     
     select {
       cursor: pointer;
     }
     
     input[type="checkbox"],
     input[type="radio"] {
       width: 1.125em;
       height: 1.125em;
       margin-right: var(--space-sm);
       cursor: pointer;
       accent-color: var(--color-sea-deep);
     }
     
     input[type="range"] {
       width: 100%;
       height: 0.5rem;
       margin: var(--space-md) 0;
       accent-color: var(--color-sea-deep);
     }
     
     input[type="color"] {
       width: 4rem;
       height: 2.5rem;
       padding: var(--space-xs);
       border: var(--border-width) solid var(--color-border);
       border-radius: var(--radius-md);
       cursor: pointer;
     }
     
     input[type="file"] {
       padding: var(--space-sm);
       border: var(--border-width) dashed var(--color-border);
       border-radius: var(--radius-md);
       cursor: pointer;
     }
     
     input[type="file"]:focus-visible {
       outline: var(--border-width-thick) solid var(--color-focus);
       outline-offset: 0.25em;
     }
     
     button,
     input[type="submit"],
     input[type="reset"] {
       display: inline-block;
       padding: var(--space-sm) var(--space-lg);
       margin-top: var(--space-md);
       margin-right: var(--space-sm);
       font-family: inherit;
       font-size: var(--font-size-base);
       font-weight: var(--font-weight-medium);
       line-height: var(--line-height-normal);
       color: var(--color-sand);
       background-color: var(--color-sea-deep);
       border: var(--border-width) solid var(--color-sea-deep);
       border-radius: var(--radius-md);
       cursor: pointer;
       transition: background-color var(--transition-fast), transform var(--transition-fast);
     }
     
     button:hover,
     input[type="submit"]:hover,
     input[type="reset"]:hover {
       background-color: var(--color-rust);
       border-color: var(--color-rust);
     }
     
     button:active,
     input[type="submit"]:active,
     input[type="reset"]:active {
       transform: translateY(1px);
     }
     
     button:focus-visible,
     input[type="submit"]:focus-visible,
     input[type="reset"]:focus-visible {
       outline: var(--border-width-thick) solid var(--color-focus);
       outline-offset: 0.25em;
     }
     
     /* Details & Summary */
     details {
       margin: var(--space-lg) 0;
       padding: var(--space-lg);
       border: var(--border-width) solid var(--color-border);
       border-radius: var(--radius-md);
       background-color: var(--color-subtle);
     }
     
     summary {
       cursor: pointer;
       font-weight: var(--font-weight-semibold);
       color: var(--color-sea-deep);
       margin: calc(-1 * var(--space-lg));
       padding: var(--space-lg);
       list-style: none;
     }
     
     summary::-webkit-details-marker {
       display: none;
     }
     
     summary::before {
       content: "▸ ";
       display: inline-block;
       margin-right: var(--space-sm);
       transition: transform var(--transition-fast);
     }
     
     details[open] summary::before {
       transform: rotate(90deg);
     }
     
     summary:hover {
       color: var(--color-rust);
     }
     
     summary:focus-visible {
       outline: var(--border-width-thick) solid var(--color-focus);
       outline-offset: -2px;
       border-radius: var(--radius-md);
     }
     
     details[open] summary {
       margin-bottom: var(--space-lg);
     }
     
     /* Selection */
     ::selection {
       background-color: var(--color-rust-light);
       color: var(--color-anchor);
     }
     
     /* Header & Footer */
     header {
       margin-bottom: var(--space-2xl);
     }
     
     footer {
       margin-top: var(--space-3xl);
       padding-top: var(--space-xl);
       border-top: var(--border-width) solid var(--color-border);
       color: var(--color-sea-mist);
       font-size: var(--font-size-sm);
     }
     
     /* Navigation */
     nav {
       margin-top: var(--space-lg);
     }
     
     nav a {
       margin-right: var(--space-md);
     }
     
     /* Dark Mode Adjustments */
     .theme-dark blockquote {
       border-left-color: var(--color-sea-deep);
       background-color: var(--color-subtle);
     }
     
     .theme-dark code {
       background-color: var(--color-sea-foam);
       color: var(--color-sea-deep);
     }
     
     .theme-dark pre {
       background-color: oklch(0.15 0.02 250);
       color: var(--color-anchor);
     }
     
     .theme-dark kbd {
       background-color: var(--color-anchor);
       color: var(--color-sand);
       border-color: var(--color-driftwood);
       box-shadow: 0 2px 0 var(--color-driftwood);
     }
     
     .theme-dark thead {
       background-color: oklch(0.30 0.04 240);
       color: var(--color-anchor);
     }
     
     .theme-dark tbody tr:nth-child(even) {
       background-color: var(--color-subtle);
     }
     
     .theme-dark tbody tr:hover {
       background-color: oklch(0.28 0.03 240);
     }
     
     .theme-dark input[type="text"],
     .theme-dark input[type="email"],
     .theme-dark input[type="password"],
     .theme-dark input[type="search"],
     .theme-dark input[type="url"],
     .theme-dark input[type="number"],
     .theme-dark input[type="date"],
     .theme-dark select,
     .theme-dark textarea {
       background-color: oklch(0.25 0.02 250);
       border-color: var(--color-driftwood);
       color: var(--color-anchor);
     }
     
     .theme-dark ::selection {
       background-color: var(--color-rust-light);
       color: var(--color-anchor);
     }
   }
   
   /* ============================================
      COMPONENTS LAYER
      Optional reusable component classes
      ============================================ */
   @layer components {
     /* Theme Toggle Button */
     .theme-toggle {
       position: fixed;
       top: var(--space-lg);
       right: var(--space-lg);
       padding: var(--space-sm) var(--space-md);
       background-color: var(--color-subtle);
       color: var(--color-anchor);
       border: var(--border-width) solid var(--color-border);
       border-radius: var(--radius-md);
       cursor: pointer;
       font-size: var(--font-size-sm);
       font-weight: var(--font-weight-medium);
       transition: all var(--transition-fast);
       z-index: 1000;
       box-shadow: var(--shadow-sm);
     }
     
     .theme-toggle:hover {
       background-color: var(--color-sea-deep);
       color: var(--color-sand);
       border-color: var(--color-sea-deep);
       box-shadow: var(--shadow-md);
     }
     
     .theme-toggle:focus-visible {
       outline: var(--border-width-thick) solid var(--color-focus);
       outline-offset: 0.25em;
     }
     
     .theme-toggle:active {
       transform: translateY(1px);
     }
     
     /* Icon indicators */
     .theme-toggle::before {
       content: " ";
       margin-right: var(--space-xs);
     }
     
     .theme-dark .theme-toggle::before {
       content: " ";
     }
   }
   
   /* ============================================
      UTILITIES LAYER
      Optional single-purpose helper classes
      ============================================ */
   @layer utilities {
     /* Add utility classes here in future versions */
   }
   
   /* ============================================
      OVERRIDES LAYER
      For developers integrating the framework
      ============================================ */
   @layer overrides {
     /* Developers can add overrides here */
   }